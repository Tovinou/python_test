Feature: Navigation mellan vyer # laslistan-tests/features/navigation.feature:1
  Som användare
  Vill jag kunna navigera mellan olika sektioner
  Så att jag kan komma åt olika funktioner
  Background:   # laslistan-tests/features/navigation.feature:6

  Scenario: Navigera till Katalog     # laslistan-tests/features/navigation.feature:9
    Given jag är på webbplatsen       # laslistan-tests/features/steps/navigation_steps.py:6
    When jag klickar på "Katalog"     # laslistan-tests/features/steps/navigation_steps.py:13
    Then ska jag se katalogvyn        # laslistan-tests/features/steps/navigation_steps.py:17
      Assertion Failed: Expected welcome message, got:  Läslistan

    And jag ska se böcker i katalogen # None

  Scenario: Navigera till Lägg till bok               # laslistan-tests/features/navigation.feature:14
    Given jag är på webbplatsen                       # laslistan-tests/features/steps/navigation_steps.py:6
    When jag klickar på "Lägg till bok"               # laslistan-tests/features/steps/navigation_steps.py:13
    Then ska jag se formuläret för att lägga till bok # laslistan-tests/features/steps/navigation_steps.py:27
      Traceback (most recent call last):
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\behave\model.py", line 1329, in run
          match.run(runner.context)
          ~~~~~~~~~^^^^^^^^^^^^^^^^
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\behave\matchers.py", line 98, in run
          self.func(context, *args, **kwargs)
          ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "laslistan-tests\features\steps\navigation_steps.py", line 29, in step_see_add_book_form
          context.add_book_page.wait_for_element('[data-testid="title-input"]')
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "C:\Jensen\python\TEST_3\laslistan-tests\features\pages\base_page.py", line 72, in wait_for_element
          self.page.locator(selector).wait_for(state="visible", timeout=timeout)
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\sync_api\_generated.py", line 18005, in wait_for
          self._sync(self._impl_obj.wait_for(timeout=timeout, state=state))
          ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\_impl\_sync_base.py", line 115, in _sync
          return task.result()
                 ~~~~~~~~~~~^^
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\_impl\_locator.py", line 692, in wait_for
          await self._frame.wait_for_selector(
              self._selector, strict=True, timeout=timeout, state=state
          )
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\_impl\_frame.py", line 369, in wait_for_selector
          await self._channel.send(
              "waitForSelector", self._timeout, locals_to_params(locals())
          )
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\_impl\_connection.py", line 69, in send
          return await self._connection.wrap_api_call(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
          ...<3 lines>...
          )
          ^
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\_impl\_connection.py", line 559, in wrap_api_call
          raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
      playwright._impl._errors.TimeoutError: Locator.wait_for: Timeout 10000ms exceeded.
      Call log:
        - waiting for locator("[data-testid=\"title-input\"]") to be visible

    And jag ska se fält för titel och författare      # None

  Scenario: Navigera till Mina böcker  # laslistan-tests/features/navigation.feature:19
    Given jag är på webbplatsen        # laslistan-tests/features/steps/navigation_steps.py:6
    When jag klickar på "Mina böcker"  # laslistan-tests/features/steps/navigation_steps.py:13
    Then ska jag se favoritsidan       # laslistan-tests/features/steps/navigation_steps.py:39

  Scenario Outline: Navigera mellan alla vyer -- @1.1   # laslistan-tests/features/navigation.feature:29
    Given jag är på webbplatsen                         # laslistan-tests/features/steps/navigation_steps.py:6
    When jag klickar på "Katalog"                       # laslistan-tests/features/steps/navigation_steps.py:13
    Then ska jag se "böcker i katalogen"                # laslistan-tests/features/steps/navigation_steps.py:52
      Assertion Failed: Expected to see books in catalog


  Scenario Outline: Navigera mellan alla vyer -- @1.2   # laslistan-tests/features/navigation.feature:30
    Given jag är på webbplatsen                         # laslistan-tests/features/steps/navigation_steps.py:6
    When jag klickar på "Lägg till bok"                 # laslistan-tests/features/steps/navigation_steps.py:13
    Then ska jag se "formuläret för att lägga till bok" # laslistan-tests/features/steps/navigation_steps.py:52
      Traceback (most recent call last):
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\behave\model.py", line 1329, in run
          match.run(runner.context)
          ~~~~~~~~~^^^^^^^^^^^^^^^^
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\behave\matchers.py", line 98, in run
          self.func(context, *args, **kwargs)
          ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "laslistan-tests\features\steps\navigation_steps.py", line 57, in step_see_content
          step_see_add_book_form(context)
          ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
        File "laslistan-tests\features\steps\navigation_steps.py", line 29, in step_see_add_book_form
          context.add_book_page.wait_for_element('[data-testid="title-input"]')
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "C:\Jensen\python\TEST_3\laslistan-tests\features\pages\base_page.py", line 72, in wait_for_element
          self.page.locator(selector).wait_for(state="visible", timeout=timeout)
          ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\sync_api\_generated.py", line 18005, in wait_for
          self._sync(self._impl_obj.wait_for(timeout=timeout, state=state))
          ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\_impl\_sync_base.py", line 115, in _sync
          return task.result()
                 ~~~~~~~~~~~^^
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\_impl\_locator.py", line 692, in wait_for
          await self._frame.wait_for_selector(
              self._selector, strict=True, timeout=timeout, state=state
          )
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\_impl\_frame.py", line 369, in wait_for_selector
          await self._channel.send(
              "waitForSelector", self._timeout, locals_to_params(locals())
          )
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\_impl\_connection.py", line 69, in send
          return await self._connection.wrap_api_call(
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
          ...<3 lines>...
          )
          ^
        File "C:\Jensen\python\twenty_one_game\env\Lib\site-packages\playwright\_impl\_connection.py", line 559, in wrap_api_call
          raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
      playwright._impl._errors.TimeoutError: Locator.wait_for: Timeout 10000ms exceeded.
      Call log:
        - waiting for locator("[data-testid=\"title-input\"]") to be visible


  Scenario Outline: Navigera mellan alla vyer -- @1.3   # laslistan-tests/features/navigation.feature:31
    Given jag är på webbplatsen                         # laslistan-tests/features/steps/navigation_steps.py:6
    When jag klickar på "Mina böcker"                   # laslistan-tests/features/steps/navigation_steps.py:13
    Then ska jag se "favoritsidan"                      # laslistan-tests/features/steps/navigation_steps.py:52

